#
# Copyright (C) 2004-2006 Mekensleep
#
# Mekensleep <licensing@mekensleep.com>
# 24 rue vieille du temple, 75004 Paris
#       
# This program gives you software freedom; you can copy, convey,
# propagate, redistribute and/or modify this program under the terms of
# the GNU General Public License (GPL) as published by the Free Software
# Foundation (FSF), either version 3 of the License, or (at your option)
# any later version of the GPL published by the FSF.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License along
# with this program in a file in the toplevel directory called "GPLv3".
# If not, see <http://www.gnu.org/licenses/>.
#
#
# Authors:
#  Loic Dachary <loic@dachary.org>
#
# 
MAINTAINERCLEANFILES = Makefile.in

INCLUDES = -I$(top_srcdir)/include

EXTRA_DIST = \
	run.in \
	razz.c \
	bug1823

TESTS_ENVIRONMENT = ./run

TESTS = ./bug1823 ${check_PROGRAMS} gcov-report

.PHONY: gcov-report

check_PROGRAMS = \
	joktest1 \
	enumtest1 \
	enumtest2 \
	enumtest3 \
	enumtest5 \
	enumtest7 \
	poker_wrapper

joktest1_SOURCES = joktest1.c
joktest1_LDADD = $(top_builddir)/lib/libpoker-eval.la
joktest1_CPPFLAGS = ${GCOV_CPPFLAGS}
joktest1_LDFLAGS = ${GCOV_LDFLAGS}

enumtest1_SOURCES = enumtest1.c
enumtest1_LDADD = $(top_builddir)/lib/libpoker-eval.la
enumtest1_CPPFLAGS = ${GCOV_CPPFLAGS}
enumtest1_LDFLAGS = ${GCOV_LDFLAGS}

enumtest2_SOURCES = enumtest2.c
enumtest2_LDADD = $(top_builddir)/lib/libpoker-eval.la
enumtest2_CPPFLAGS = ${GCOV_CPPFLAGS}
enumtest2_LDFLAGS = ${GCOV_LDFLAGS}

enumtest3_SOURCES = enumtest3.c
enumtest3_LDADD = $(top_builddir)/lib/libpoker-eval.la
enumtest3_CPPFLAGS = ${GCOV_CPPFLAGS}
enumtest3_LDFLAGS = ${GCOV_LDFLAGS}

enumtest5_SOURCES = enumtest5.c
enumtest5_LDADD = $(top_builddir)/lib/libpoker-eval.la
enumtest5_CPPFLAGS = ${GCOV_CPPFLAGS}
enumtest5_LDFLAGS = ${GCOV_LDFLAGS}

enumtest7_SOURCES = enumtest7.c
enumtest7_LDADD = $(top_builddir)/lib/libpoker-eval.la
enumtest7_CPPFLAGS = ${GCOV_CPPFLAGS}
enumtest7_LDFLAGS = ${GCOV_LDFLAGS}

poker_wrapper_SOURCES = poker_wrapper.c
poker_wrapper_LDADD = $(top_builddir)/lib/libpoker-eval.la
poker_wrapper_CPPFLAGS = ${GCOV_CPPFLAGS}
poker_wrapper_LDFLAGS = ${GCOV_LDFLAGS}

razz_SOURCES = razz.c
razz_LDADD = $(top_builddir)/lib/libpoker-eval.la
razz_CPPFLAGS = ${GCOV_CPPFLAGS}
razz_LDFLAGS = ${GCOV_LDFLAGS}

clean-local:
	-rm -f *.gcov *.gcda *.gcno
